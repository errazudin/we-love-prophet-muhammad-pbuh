<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Daily Routine of Prophet Muhammad (PBUH)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          animation: {
            fadeIn: 'fadeIn 1s ease-in-out',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: 0 },
              '100%': { opacity: 1 },
            },
          },
        },
      },
    };
  </script>
  <style>
    .fade-in-card {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .fade-in-card.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .ripple {
      position: relative;
      overflow: hidden;
    }
    .ripple::after {
      content: '';
      position: absolute;
      border-radius: 9999px;
      width: 100px;
      height: 100px;
      background: rgba(255, 255, 0, 0.25);
      transform: scale(0);
      animation: ripple-effect 0.6s linear;
      opacity: 0;
    }
    @keyframes ripple-effect {
      to {
        transform: scale(2);
        opacity: 0;
      }
    }
  </style>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 font-sans transition-colors duration-500">
  <header class="text-center py-6 bg-gradient-to-r from-amber-200 to-yellow-100 dark:from-gray-700 dark:to-gray-800">
    <h1 id="mainTitle" class="text-2xl font-bold">The Daily Routine of Prophet Muhammad (PBUH)</h1>
    <p id="subTitle" class="text-sm text-gray-600 dark:text-gray-300">A modern, multilingual, dynamic timeline</p>
    <div class="mt-4 flex flex-wrap justify-center gap-4">
      <div class="relative">
        <select id="languageSelect" class="appearance-none bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-sm py-2 px-4 pr-8 rounded leading-tight focus:outline-none focus:ring-2 focus:ring-yellow-400 dark:text-white">
          <option value="en">ğŸ‡¬ğŸ‡§ English</option>
          <option value="ms">ğŸ‡²ğŸ‡¾ Malay</option>
          <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
          <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
          <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
          <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
          <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
        </select>
        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-white">
          <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5.516 7.548l4.484 4.484 4.484-4.484L15.516 9l-5.516 5.516L4.484 9z"/></svg>
        </div>
      </div>
      <label for="darkToggle" class="inline-flex items-center cursor-pointer select-none text-sm">
        <span class="mr-2 text-gray-700 dark:text-gray-300">Light</span>
        <div class="relative">
          <input type="checkbox" id="darkToggle" class="sr-only">
          <div class="w-10 h-4 bg-gray-300 rounded-full shadow-inner dark:bg-gray-600"></div>
          <div class="dot absolute w-6 h-6 bg-yellow-400 dark:bg-yellow-300 rounded-full shadow -left-1 -top-1 transition"></div>
        </div>
        <span class="ml-2 text-gray-700 dark:text-gray-300">Dark</span>
      </label>
    </div>
  </header>

  <main class="max-w-3xl mx-auto px-4 py-6 animate-fadeIn">
    <section id="currentActivity" class="mb-6">
      <h2 id="currentActivityTitle" class="text-lg font-semibold mb-2">ğŸ”† Current Activity</h2>
      <div id="currentBlock" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
    </section>
    <section id="timeline" class="grid grid-cols-1 md:grid-cols-2 gap-4"></section>
  </main>

  <footer class="text-center text-xs text-gray-500 dark:text-gray-400 py-6 border-t dark:border-gray-700">
    Source : ProductiveMuslim.com
  </footer>

  <script>
    function translateStaticText(lang) {
      const titles = {
        en: ["The Daily Routine of Prophet Muhammad (PBUH)", "A modern, multilingual, dynamic timeline", "ğŸ”† Current Activity"],
        ms: ["Rutian Harian Nabi Muhammad (SAW)", "Garis masa moden dan pelbagai bahasa", "ğŸ”† Aktiviti Semasa"],
        zh: ["å…ˆçŸ¥ç©†ç½•é»˜å¾·ï¼ˆæ—¥å¸¸ä½œæ¯ï¼‰", "ç°ä»£å¤šè¯­è¨€åŠ¨æ€æ—¶é—´çº¿", "ğŸ”† å½“å‰æ´»åŠ¨"],
        ar: ["Ø§Ù„Ø±ÙˆØªÙŠÙ† Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù„Ù„Ù†Ø¨ÙŠ Ù…Ø­Ù…Ø¯ ï·º", "Ø®Ø· Ø²Ù…Ù†ÙŠ Ø­Ø¯ÙŠØ« ÙˆÙ…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù„ØºØ§Øª", "ğŸ”† Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø­Ø§Ù„ÙŠ"],
        es: ["Rutina Diaria del Profeta Muhammad (PBUH)", "CronologÃ­a moderna y multilingÃ¼e", "ğŸ”† Actividad Actual"],
        fr: ["Routine Quotidienne du ProphÃ¨te Muhammad (PSSL)", "Chronologie moderne multilingue", "ğŸ”† ActivitÃ© en cours"],
        ja: ["é è¨€è€…ãƒ ãƒãƒ³ãƒãƒ‰ã®æ—¥å¸¸ç”Ÿæ´»ï¼ˆPBUHï¼‰", "ãƒ¢ãƒ€ãƒ³ã§å¤šè¨€èªå¯¾å¿œã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³", "ğŸ”† ç¾åœ¨ã®æ´»å‹•"]
      };
      if (titles[lang]) {
        document.getElementById('mainTitle').textContent = titles[lang][0];
        document.getElementById('subTitle').textContent = titles[lang][1];
        document.getElementById('currentActivityTitle').textContent = titles[lang][2];
      }
    }
  </script>
<script>
  const routineData = {
    en: [
      { time: "Before End of Night", items: ["Takes a short nap when a sixth of the night is left"] },
      { time: "At Dawn", items: ["Wakes up", "Uses siwak", "Expresses gratitude", "Listens to the call to prayer", "Prepares for prayer"] },
      { time: "Fajr (Dawn Prayer)", items: ["Enters the mosque", "Leads prayer", "Talks with congregation"] },
      { time: "After Sunrise", items: ["Prays two rakâ€™ahs (units of prayer)", "Goes home", "Uses siwak again", "Greets his family", "Eats if there is food", "Fasts if not"] },
      { time: "Morning Duties", items: ["Returns to the mosque", "Teaches Companions", "Handles social and political affairs"] },
      { time: "Before Noon", items: ["Visits relatives", "Walks through the Madinah market", "Receives guests at home"] },
      { time: "Lunch", items: ["Eats food received as gifts", "Eats communally with family, Companions, or the needy"] },
      { time: "Dhuhr (Noon Prayer)", items: ["Leads prayer at mosque", "Addresses the congregation if needed", "Fulfills duties with his Companions"] },
      { time: "Naptime", items: ["Takes a nap until close to Dhuhr prayer"] },
      { time: "Asr (Afternoon Prayer)", items: ["Leads prayer at mosque", "Returns home afterward", "Spends quality time with entire family"] },
      { time: "Maghrib (Dusk Prayer)", items: ["Leads the Companions in prayer", "Returns to the mosque", "Prays two rakâ€™ahs (units of prayer)", "Spends time teaching Companions", "Handles social and political matters"] },
      { time: "Dinner", items: ["Sometimes consists of only dates and water", "Has quality time with those present", "Praises God abundantly"] },
      { time: "Isha (Night Prayer)", items: ["Leads prayer at the mosque", "Rarely gives a talk afterward", "Returns home to spend time with family", "May visit Companionsâ€™ homes"] },
      { time: "Bedtime", items: ["Prepares for sleep", "Sleeps until midnight"] },
      { time: "Midnight", items: ["Wakes up", "Performs night prayers at home or in the mosque", "Sometimes goes to the cemetery and prays for the deceased"] }
    ],
    ms: [
  { time: "Sebelum Tamat Malam", items: ["Tidur sebentar ketika tinggal satu perenam malam"] },
  { time: "Waktu Subuh", items: ["Bangun", "Menggunakan siwak", "Mengucap syukur", "Mendengar azan", "Bersiap untuk solat"] },
  { time: "Solat Subuh", items: ["Masuk ke masjid", "Mengimamkan solat", "Berbual dengan jemaah"] },
  { time: "Selepas Terbit Matahari", items: ["Solat dua rakaat", "Pulang ke rumah", "Guna siwak sekali lagi", "Menegur ahli keluarga", "Makan jika ada makanan", "Berpuasa jika tiada"] },
  { time: "Tugas Pagi", items: ["Kembali ke masjid", "Mengajar para sahabat", "Urusan sosial dan politik"] },
  { time: "Sebelum Tengah Hari", items: ["Menziarahi saudara", "Melalui pasar Madinah", "Menerima tetamu di rumah"] },
  { time: "Makan Tengah Hari", items: ["Makan pemberian orang", "Makan bersama keluarga, sahabat, atau orang miskin"] },
  { time: "Zohor", items: ["Solat berjemaah di masjid", "Berkhutbah jika perlu", "Melaksanakan tugasan bersama sahabat"] },
  { time: "Tidur Tengah Hari", items: ["Tidur sebentar hingga hampir waktu Zohor"] },
  { time: "Asar", items: ["Solat berjemaah", "Pulang ke rumah", "Bersama keluarga"] },
  { time: "Maghrib", items: ["Mengimamkan solat", "Kembali ke masjid", "Solat dua rakaat", "Mengajar sahabat", "Urus hal sosial dan politik"] },
  { time: "Makan Malam", items: ["Kadang hanya makan kurma dan air", "Meluangkan masa bersama", "Bersyukur dan memuji Allah"] },
  { time: "Isyak", items: ["Solat berjemaah di masjid", "Jarang beri ucapan selepas solat", "Meluangkan masa dengan keluarga", "Kadang lawat rumah sahabat"] },
  { time: "Waktu Tidur", items: ["Bersedia untuk tidur", "Tidur hingga tengah malam"] },
  { time: "Tengah Malam", items: ["Bangun", "Solat malam di rumah atau masjid", "Ziarah kubur dan mendoakan yang telah meninggal"] }
], zh: [
  { time: "å¤œæœ«ä¹‹å‰", items: ["åœ¨å¤œæ™šæœ€åå…­åˆ†ä¹‹ä¸€æ—¶å°ç¡"] },
  { time: "é»æ˜æ—¶åˆ†", items: ["èµ·åºŠ", "ä½¿ç”¨é½¿æœ¨ (siwak)", "æ„Ÿæ©", "å¬æ™¨ç¤¼å‘¼å”¤", "å‡†å¤‡ç¥·å‘Š"] },
  { time: "æ™¨ç¤¼ (Fajr)", items: ["è¿›å…¥æ¸…çœŸå¯º", "ä¸»é¢†æ™¨ç¤¼", "ä¸ä¼šä¼—äº¤æµ"] },
  { time: "æ—¥å‡ºä¹‹å", items: ["ç¥ˆç¥·ä¸¤æ‹œ", "å›å®¶", "å†æ¬¡ä½¿ç”¨é½¿æœ¨", "é—®å€™å®¶äºº", "è‹¥æœ‰é£Ÿç‰©åˆ™åƒ", "è‹¥æ— åˆ™ç¦é£Ÿ"] },
  { time: "æ¸…æ™¨äº‹åŠ¡", items: ["è¿”å›æ¸…çœŸå¯º", "æ•™å¯¼åœ£é—¨å¼Ÿå­", "å¤„ç†ç¤¾ä¼šæ”¿æ²»äº‹åŠ¡"] },
  { time: "ä¸­åˆå‰", items: ["æ¢æœ›äº²å±", "ç»è¿‡éº¦åœ°é‚£å¸‚é›†", "åœ¨å®¶æ¥å¾…æ¥è®¿è€…"] },
  { time: "åˆé¤", items: ["äº«ç”¨èµ é€çš„é£Ÿç‰©", "ä¸å®¶äººã€åŒä¼´æˆ–è´«è€…å…±é¤"] },
  { time: "æ™Œç¤¼ (Dhuhr)", items: ["ä¸»é¢†æ™Œç¤¼", "å¿…è¦æ—¶è®²è¯", "å±¥è¡ŒèŒè´£"] },
  { time: "åˆä¼‘", items: ["åœ¨æ™Œç¤¼å‰å°ç¡"] },
  { time: "æ™¡ç¤¼ (Asr)", items: ["ä¸»é¢†æ™¡ç¤¼", "ä¹‹åå›å®¶", "ä¸å®¶äººå…±åº¦æ—¶å…‰"] },
  { time: "æ˜ç¤¼ (Maghrib)", items: ["ä¸»é¢†æ˜ç¤¼", "è¿”å›æ¸…çœŸå¯º", "ç¥ˆç¥·ä¸¤æ‹œ", "æ•™å­¦åœ£é—¨å¼Ÿå­", "å¤„ç†äº‹åŠ¡"] },
  { time: "æ™šé¤", items: ["æœ‰æ—¶åªåƒæ¤°æ£å’Œæ°´", "ä¸ä¼—å…±åº¦æ—¶å…‰", "æ„Ÿæ©èµç¾çœŸä¸»"] },
  { time: "å®µç¤¼ (Isha)", items: ["ä¸»é¢†å®µç¤¼", "å¾ˆå°‘å†è®²è¯", "ä¸å®¶äººå…±å¤„", "æœ‰æ—¶æ¢è®¿å¼Ÿå­"] },
  { time: "å°±å¯æ—¶é—´", items: ["å‡†å¤‡ç¡è§‰", "ç¡åˆ°åˆå¤œ"] },
  { time: "åˆå¤œ", items: ["èµ·å¤œ", "åœ¨å®¶æˆ–æ¸…çœŸå¯ºè¿›è¡Œå¤œé—´ç¥·å‘Š", "æœ‰æ—¶å‰å¾€å¢“åœ°ç¥ˆç¥·"] }
], ar: [
  { time: "Ù‚Ø¨Ù„ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„ÙŠÙ„", items: ["ÙŠØ£Ø®Ø° Ù‚ÙŠÙ„ÙˆÙ„Ø© Ù‚ØµÙŠØ±Ø© Ø¹Ù†Ø¯Ù…Ø§ ÙŠØªØ¨Ù‚Ù‰ Ø³Ø¯Ø³ Ø§Ù„Ù„ÙŠÙ„"] },
  { time: "Ø¹Ù†Ø¯ Ø§Ù„ÙØ¬Ø±", items: ["ÙŠØ³ØªÙŠÙ‚Ø¸", "ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ø³ÙˆØ§Ùƒ", "ÙŠØ´ÙƒØ± Ø§Ù„Ù„Ù‡", "ÙŠØ³ØªÙ…Ø¹ Ù„Ù„Ø£Ø°Ø§Ù†", "ÙŠØ³ØªØ¹Ø¯ Ù„Ù„ØµÙ„Ø§Ø©"] },
  { time: "ØµÙ„Ø§Ø© Ø§Ù„ÙØ¬Ø±", items: ["ÙŠØ¯Ø®Ù„ Ø§Ù„Ù…Ø³Ø¬Ø¯", "ÙŠØ¤Ù… Ø§Ù„Ù†Ø§Ø³ ÙÙŠ Ø§Ù„ØµÙ„Ø§Ø©", "ÙŠØªØ­Ø¯Ø« Ù…Ø¹ Ø§Ù„ØµØ­Ø§Ø¨Ø©"] },
  { time: "Ø¨Ø¹Ø¯ Ø§Ù„Ø´Ø±ÙˆÙ‚", items: ["ÙŠØµÙ„ÙŠ Ø±ÙƒØ¹ØªÙŠÙ†", "ÙŠØ¹ÙˆØ¯ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù†Ø²Ù„", "ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ø³ÙˆØ§Ùƒ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰", "ÙŠØ³Ù„Ù… Ø¹Ù„Ù‰ Ø¹Ø§Ø¦Ù„ØªÙ‡", "ÙŠØ£ÙƒÙ„ Ø¥Ù† ÙˆØ¬Ø¯ Ø·Ø¹Ø§Ù…Ù‹Ø§", "ÙŠØµÙˆÙ… Ø¥Ù† Ù„Ù… ÙŠØ¬Ø¯"] },
  { time: "Ù…Ù‡Ø§Ù… Ø§Ù„ØµØ¨Ø§Ø­", items: ["ÙŠØ¹ÙˆØ¯ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³Ø¬Ø¯", "ÙŠØ¹Ù„Ù… Ø§Ù„ØµØ­Ø§Ø¨Ø©", "ÙŠØªØ§Ø¨Ø¹ Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© ÙˆØ§Ù„Ø³ÙŠØ§Ø³ÙŠØ©"] },
  { time: "Ù‚Ø¨Ù„ Ø§Ù„Ø¸Ù‡Ø±", items: ["ÙŠØ²ÙˆØ± Ø§Ù„Ø£Ù‚Ø§Ø±Ø¨", "ÙŠÙ…Ø´ÙŠ ÙÙŠ Ø³ÙˆÙ‚ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", "ÙŠØ³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø¶ÙŠÙˆÙ ÙÙŠ Ø§Ù„Ø¨ÙŠØª"] },
  { time: "Ø§Ù„ØºØ¯Ø§Ø¡", items: ["ÙŠØ£ÙƒÙ„ Ù…Ø§ ÙŠÙÙ‡Ø¯Ù‰ Ø¥Ù„ÙŠÙ‡", "ÙŠØ£ÙƒÙ„ Ù…Ø¹ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ø£Ùˆ Ø§Ù„ØµØ­Ø§Ø¨Ø© Ø£Ùˆ Ø§Ù„Ù…Ø­ØªØ§Ø¬ÙŠÙ†"] },
  { time: "Ø§Ù„Ø¸Ù‡Ø±", items: ["ÙŠØ¤Ù… Ø§Ù„Ù†Ø§Ø³ ÙÙŠ Ø§Ù„Ù…Ø³Ø¬Ø¯", "ÙŠÙ„Ù‚ÙŠ Ø®Ø·Ø¨Ø© Ø¥Ù† Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±", "ÙŠÙ‚ÙˆÙ… Ø¨Ø§Ù„Ù…Ù‡Ø§Ù… Ù…Ø¹ Ø§Ù„ØµØ­Ø§Ø¨Ø©"] },
  { time: "Ù‚ÙŠÙ„ÙˆÙ„Ø© Ø§Ù„Ø¸Ù‡Ø±", items: ["ÙŠØ£Ø®Ø° Ù‚ÙŠÙ„ÙˆÙ„Ø© Ø­ØªÙ‰ ÙŠÙ‚ØªØ±Ø¨ ÙˆÙ‚Øª Ø§Ù„Ø¸Ù‡Ø±"] },
  { time: "Ø§Ù„Ø¹ØµØ±", items: ["ÙŠØ¤Ù… Ø§Ù„Ù†Ø§Ø³ ÙÙŠ Ø§Ù„ØµÙ„Ø§Ø©", "ÙŠØ¹ÙˆØ¯ Ù„Ù„Ù…Ù†Ø²Ù„", "ÙŠÙ‚Ø¶ÙŠ ÙˆÙ‚ØªÙ‹Ø§ Ù…Ø¹ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©"] },
  { time: "Ø§Ù„Ù…ØºØ±Ø¨", items: ["ÙŠØ¤Ù… Ø§Ù„ØµØ­Ø§Ø¨Ø©", "ÙŠØ¹ÙˆØ¯ Ù„Ù„Ù…Ø³Ø¬Ø¯", "ÙŠØµÙ„ÙŠ Ø±ÙƒØ¹ØªÙŠÙ†", "ÙŠØ¹Ù„Ù… Ø§Ù„ØµØ­Ø§Ø¨Ø©", "ÙŠØªØ§Ø¨Ø¹ Ø§Ù„Ø£Ù…ÙˆØ± Ø§Ù„Ø¹Ø§Ù…Ø©"] },
  { time: "Ø§Ù„Ø¹Ø´Ø§Ø¡", items: ["Ø£Ø­ÙŠØ§Ù†Ù‹Ø§ ÙŠØªÙ†Ø§ÙˆÙ„ ØªÙ…Ø±Ù‹Ø§ ÙˆÙ…Ø§Ø¡ ÙÙ‚Ø·", "ÙŠÙ‚Ø¶ÙŠ ÙˆÙ‚ØªÙ‹Ø§ Ø·ÙŠØ¨Ù‹Ø§ Ù…Ø¹ Ù…Ù† Ø­Ø¶Ø±", "ÙŠØ³Ø¨Ø­ Ø§Ù„Ù„Ù‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø·Ø¹Ø§Ù…"] },
  { time: "ØµÙ„Ø§Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡", items: ["ÙŠØ¤Ù… Ø§Ù„ØµÙ„Ø§Ø© ÙÙŠ Ø§Ù„Ù…Ø³Ø¬Ø¯", "Ù†Ø§Ø¯Ø±Ø§Ù‹ Ù…Ø§ ÙŠØªØ­Ø¯Ø« Ø¨Ø¹Ø¯Ù‡Ø§", "ÙŠÙ‚Ø¶ÙŠ ÙˆÙ‚ØªÙ‹Ø§ Ù…Ø¹ Ø¹Ø§Ø¦Ù„ØªÙ‡", "ÙŠØ²ÙˆØ± Ø¨ÙŠÙˆØª Ø§Ù„ØµØ­Ø§Ø¨Ø© Ø£Ø­ÙŠØ§Ù†Ù‹Ø§"] },
  { time: "ÙˆÙ‚Øª Ø§Ù„Ù†ÙˆÙ…", items: ["ÙŠØ³ØªØ¹Ø¯ Ù„Ù„Ù†ÙˆÙ…", "ÙŠÙ†Ø§Ù… Ø­ØªÙ‰ Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„"] },
  { time: "Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„", items: ["ÙŠØ³ØªÙŠÙ‚Ø¸", "ÙŠØµÙ„ÙŠ ÙÙŠ Ø§Ù„Ø¨ÙŠØª Ø£Ùˆ Ø§Ù„Ù…Ø³Ø¬Ø¯", "ÙŠØ²ÙˆØ± Ø§Ù„Ù…Ù‚Ø§Ø¨Ø± ÙˆÙŠØ¯Ø¹Ùˆ Ù„Ù„Ø£Ù…ÙˆØ§Øª Ø£Ø­ÙŠØ§Ù†Ù‹Ø§"] }
], es: [
  { time: "Antes de Finalizar la Noche", items: ["Toma una siesta breve cuando queda una sexta parte de la noche"] },
  { time: "Al Amanecer", items: ["Se despierta", "Usa el siwak", "Expresa gratitud", "Escucha el llamado a la oraciÃ³n", "Se prepara para la oraciÃ³n"] },
  { time: "Fajr (OraciÃ³n del Amanecer)", items: ["Entra a la mezquita", "Dirige la oraciÃ³n", "Habla con la congregaciÃ³n"] },
  { time: "DespuÃ©s del Amanecer", items: ["Ora dos rak'ahs (unidades de oraciÃ³n)", "Regresa a casa", "Usa el siwak nuevamente", "Saluda a su familia", "Come si hay comida", "Ayuna si no hay"] },
  { time: "Deberes Matutinos", items: ["Vuelve a la mezquita", "EnseÃ±a a los CompaÃ±eros", "Atiende asuntos sociales y polÃ­ticos"] },
  { time: "Antes del MediodÃ­a", items: ["Visita a familiares", "Camina por el mercado de Madinah", "Recibe invitados en casa"] },
  { time: "Almuerzo", items: ["Come alimentos recibidos como regalos", "Come con la familia, compaÃ±eros o necesitados"] },
  { time: "Dhuhr (OraciÃ³n del MediodÃ­a)", items: ["Dirige la oraciÃ³n en la mezquita", "Se dirige a la congregaciÃ³n si es necesario", "Cumple tareas con los CompaÃ±eros"] },
  { time: "Siesta", items: ["Toma una siesta cercana a la oraciÃ³n de Dhuhr"] },
  { time: "Asr (OraciÃ³n de la Tarde)", items: ["Dirige la oraciÃ³n en la mezquita", "Vuelve a casa", "Pasa tiempo con su familia"] },
  { time: "Maghrib (OraciÃ³n del Ocaso)", items: ["Dirige la oraciÃ³n", "Regresa a la mezquita", "Ora dos rak'ahs", "EnseÃ±a a los CompaÃ±eros", "Atiende asuntos sociales y polÃ­ticos"] },
  { time: "Cena", items: ["A veces solo come dÃ¡tiles y agua", "Comparte tiempo con quienes estÃ¡n presentes", "Alaba a Dios"] },
  { time: "Isha (OraciÃ³n Nocturna)", items: ["Dirige la oraciÃ³n en la mezquita", "Rara vez habla despuÃ©s", "Pasa tiempo con su familia", "A veces visita hogares de los CompaÃ±eros"] },
  { time: "Hora de Dormir", items: ["Se prepara para dormir", "Duerme hasta medianoche"] },
  { time: "Medianoche", items: ["Se despierta", "Ora en casa o en la mezquita", "A veces visita el cementerio y ora por los fallecidos"] }
], fr: [
  { time: "Avant la Fin de la Nuit", items: ["Fait une courte sieste lorsqu'un sixiÃ¨me de la nuit reste"] },
  { time: "Ã€ l'Aube", items: ["Se rÃ©veille", "Utilise le siwak", "Exprime sa gratitude", "Ã‰coute l'appel Ã  la priÃ¨re", "Se prÃ©pare pour la priÃ¨re"] },
  { time: "Fajr (PriÃ¨re de l'Aube)", items: ["Entre Ã  la mosquÃ©e", "Dirige la priÃ¨re", "Parle avec la congrÃ©gation"] },
  { time: "AprÃ¨s le Lever du Soleil", items: ["Fait deux rak'ahs", "Rentre Ã  la maison", "RÃ©utilise le siwak", "Salue sa famille", "Mange sâ€™il y a de la nourriture", "JeÃ»ne sâ€™il nâ€™y en a pas"] },
  { time: "TÃ¢ches du Matin", items: ["Retourne Ã  la mosquÃ©e", "Enseigne aux Compagnons", "GÃ¨re les affaires sociales et politiques"] },
  { time: "Avant Midi", items: ["Rend visite aux proches", "Marche au marchÃ© de MÃ©dine", "ReÃ§oit des invitÃ©s chez lui"] },
  { time: "DÃ©jeuner", items: ["Mange des dons alimentaires", "Partage le repas avec la famille, les compagnons ou les nÃ©cessiteux"] },
  { time: "Dhuhr (PriÃ¨re de Midi)", items: ["Dirige la priÃ¨re Ã  la mosquÃ©e", "Sâ€™adresse Ã  la congrÃ©gation si nÃ©cessaire", "Remplit ses devoirs avec les Compagnons"] },
  { time: "Sieste", items: ["Fait une sieste jusquâ€™Ã  lâ€™approche de la priÃ¨re de Dhuhr"] },
  { time: "Asr (PriÃ¨re de lâ€™AprÃ¨s-midi)", items: ["Dirige la priÃ¨re Ã  la mosquÃ©e", "Retourne chez lui", "Passe du temps de qualitÃ© en famille"] },
  { time: "Maghrib (PriÃ¨re du CrÃ©puscule)", items: ["Dirige la priÃ¨re", "Retourne Ã  la mosquÃ©e", "Fait deux rak'ahs", "Enseigne aux Compagnons", "GÃ¨re les affaires sociales et politiques"] },
  { time: "DÃ®ner", items: ["Parfois composÃ© uniquement de dattes et d'eau", "Partage un bon moment avec ceux prÃ©sents", "Loue abondamment Dieu"] },
  { time: "Isha (PriÃ¨re de Nuit)", items: ["Dirige la priÃ¨re Ã  la mosquÃ©e", "Donne rarement un discours aprÃ¨s", "Passe du temps avec sa famille", "Peut visiter les foyers des Compagnons"] },
  { time: "Heure du Coucher", items: ["Se prÃ©pare Ã  dormir", "Dort jusqu'Ã  minuit"] },
  { time: "Minuit", items: ["Se rÃ©veille", "Fait la priÃ¨re nocturne Ã  la maison ou Ã  la mosquÃ©e", "Parfois visite le cimetiÃ¨re et prie pour les dÃ©funts"] }
], ja: [
  { time: "å¤œã®çµ‚ã‚ã‚Šå‰", items: ["å¤œã®6åˆ†ã®1ãŒæ®‹ã£ã¦ã„ã‚‹ã¨ãã«çŸ­ã„æ˜¼å¯ã‚’ã™ã‚‹"] },
  { time: "å¤œæ˜ã‘æ™‚", items: ["ç›®ã‚’è¦šã¾ã™", "ã‚¹ã‚£ãƒ¼ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã†", "æ„Ÿè¬ã®æ„ã‚’ç¤ºã™", "ç¤¼æ‹ã¸ã®å‘¼ã³ã‹ã‘ã‚’èã", "ç¤¼æ‹ã®æº–å‚™ã‚’ã™ã‚‹"] },
  { time: "ãƒ•ã‚¡ã‚¸ãƒ¥ãƒ«ï¼ˆå¤œæ˜ã‘ã®ç¤¼æ‹ï¼‰", items: ["ãƒ¢ã‚¹ã‚¯ã«å…¥ã‚‹", "ç¤¼æ‹ã‚’å°ã", "ä¿¡å¾’ã¨ä¼šè©±ã™ã‚‹"] },
  { time: "æ—¥ã®å‡ºå¾Œ", items: ["2ãƒ©ã‚«ã‚¢ï¼ˆç¤¼æ‹ã®å˜ä½ï¼‰ã‚’ç¥ˆã‚‹", "å®¶ã«å¸°ã‚‹", "å†ã³ã‚¹ã‚£ãƒ¼ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã†", "å®¶æ—ã«æŒ¨æ‹¶ã™ã‚‹", "é£Ÿã¹ç‰©ãŒã‚ã‚Œã°é£Ÿã¹ã‚‹", "ãªã‘ã‚Œã°æ–­é£Ÿã™ã‚‹"] },
  { time: "æœã®å‹™ã‚", items: ["ãƒ¢ã‚¹ã‚¯ã«æˆ»ã‚‹", "ä»²é–“ã«æ•™ãˆã‚‹", "ç¤¾ä¼šãƒ»æ”¿æ²»çš„ãªå•é¡Œã‚’æ‰±ã†"] },
  { time: "æ­£åˆå‰", items: ["è¦ªæˆšã‚’è¨ªå•ã™ã‚‹", "ãƒãƒ‡ã‚£ãƒ¼ãƒŠå¸‚å ´ã‚’æ­©ã", "è‡ªå®…ã§æ¥å®¢ã‚’è¿ãˆã‚‹"] },
  { time: "æ˜¼é£Ÿ", items: ["è´ˆã‚‰ã‚ŒãŸé£Ÿã¹ç‰©ã‚’é£Ÿã¹ã‚‹", "å®¶æ—ã‚„ä»²é–“ã€è²§ã—ã„äººã€…ã¨ä¸€ç·’ã«é£Ÿäº‹ã™ã‚‹"] },
  { time: "ã‚ºãƒ•ãƒ«ï¼ˆæ­£åˆã®ç¤¼æ‹ï¼‰", items: ["ãƒ¢ã‚¹ã‚¯ã§ç¤¼æ‹ã‚’å°ã", "å¿…è¦ã«å¿œã˜ã¦ä¼šè¡†ã«è©±ã™", "ä»²é–“ãŸã¡ã¨è·å‹™ã‚’æœãŸã™"] },
  { time: "æ˜¼å¯", items: ["ã‚ºãƒ•ãƒ«ç¤¼æ‹ã®å°‘ã—å‰ã¾ã§æ˜¼å¯ã™ã‚‹"] },
  { time: "ã‚¢ã‚¹ãƒ«ï¼ˆåˆå¾Œã®ç¤¼æ‹ï¼‰", items: ["ãƒ¢ã‚¹ã‚¯ã§ç¤¼æ‹ã‚’å°ã", "ãã®å¾Œå¸°å®…ã™ã‚‹", "å®¶æ—å…¨å“¡ã¨è³ªã®é«˜ã„æ™‚é–“ã‚’éã”ã™"] },
  { time: "ãƒã‚°ãƒªãƒ–ï¼ˆå¤•æš®ã‚Œã®ç¤¼æ‹ï¼‰", items: ["ä»²é–“ã¨å…±ã«ç¤¼æ‹ã‚’å°ã", "ãƒ¢ã‚¹ã‚¯ã«æˆ»ã‚‹", "2ãƒ©ã‚«ã‚¢ç¥ˆã‚‹", "ä»²é–“ã«æ•™ãˆã‚‹", "ç¤¾ä¼šãƒ»æ”¿æ²»çš„ãªå•é¡Œã‚’æ‰±ã†"] },
  { time: "å¤•é£Ÿ", items: ["æ™‚ã«ã¯ãƒŠãƒ„ãƒ¡ãƒ¤ã‚·ã¨æ°´ã ã‘", "åŒå¸­è€…ã¨æ¥½ã—ã„æ™‚é–“ã‚’éã”ã™", "ç¥ã«æ„Ÿè¬ã™ã‚‹"] },
  { time: "ã‚¤ã‚·ãƒ£ãƒ¼ï¼ˆå¤œã®ç¤¼æ‹ï¼‰", items: ["ãƒ¢ã‚¹ã‚¯ã§ç¤¼æ‹ã‚’å°ã", "ãã®å¾Œã»ã¨ã‚“ã©è©±ã•ãªã„", "å®¶æ—ã¨éã”ã™", "ä»²é–“ã®å®¶ã‚’è¨ªå•ã™ã‚‹ã“ã¨ã‚‚ã‚ã‚‹"] },
  { time: "å°±å¯æ™‚åˆ»", items: ["çœ ã‚‹æº–å‚™ã‚’ã™ã‚‹", "çœŸå¤œä¸­ã¾ã§çœ ã‚‹"] },
  { time: "çœŸå¤œä¸­", items: ["ç›®ã‚’è¦šã¾ã™", "è‡ªå®…ã‚„ãƒ¢ã‚¹ã‚¯ã§å¤œã®ç¤¼æ‹ã‚’ã™ã‚‹", "å¢“åœ°ã‚’è¨ªã‚Œã€äº¡ãè€…ã®ãŸã‚ã«ç¥ˆã‚‹ã“ã¨ã‚‚ã‚ã‚‹"] }
]
  };

  const timeSlots = [
    { start: 0, end: 4 }, { start: 4, end: 6 }, { start: 6, end: 7 }, { start: 7, end: 9 },
    { start: 9, end: 10 }, { start: 10, end: 12 }, { start: 12, end: 13 }, { start: 13, end: 14 },
    { start: 14, end: 15 }, { start: 15, end: 16 }, { start: 17, end: 18 }, { start: 18, end: 19 },
    { start: 19, end: 20 }, { start: 20, end: 23 }, { start: 23, end: 24 }
  ];

  function renderTimeline(lang) {
    const timelineWrapper = document.getElementById('timeline');
    const currentWrapper = document.getElementById('currentBlock');
    timelineWrapper.innerHTML = '';
    currentWrapper.innerHTML = '';

    const hour = new Date().getHours();
    let currentIndex = timeSlots.findIndex(slot => hour >= slot.start && hour < slot.end);
    if (currentIndex === -1) {
      currentIndex = timeSlots.findIndex(slot => hour < slot.end);
      if (currentIndex === -1) currentIndex = 0;
    }

    const routine = routineData[lang] || routineData["en"];
    routine.forEach((section, idx) => {
      const card = document.createElement('div');
      card.className = "p-4 rounded-lg border hover:shadow transition bg-white dark:bg-gray-800 cursor-pointer fade-in-card ripple";
      card.innerHTML = `
        <h3 class="text-md font-bold mb-2">${section.time}</h3>
        <ul class="list-disc pl-4 text-sm">${section.items.map(i => `<li>${i}</li>`).join('')}</ul>
      `;
      if (idx === currentIndex) {
        card.classList.add('bg-yellow-100', 'dark:bg-yellow-900', 'shadow-md');
        currentWrapper.appendChild(card);
      } else {
        timelineWrapper.appendChild(card);
      }
      observer.observe(card);
    });
  }

  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.1 });

  document.getElementById('languageSelect').addEventListener('change', (e) => {
    const lang = e.target.value;
    renderTimeline(lang);
    translateStaticText(lang);
  });

  document.getElementById('darkToggle').addEventListener('change', () => {
    const isDark = document.documentElement.classList.toggle('dark');
    const dot = document.querySelector('.dot');
    dot.style.transform = isDark ? 'translateX(100%)' : 'translateX(0%)';
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });

  if (localStorage.getItem('theme') === 'dark') {
    document.documentElement.classList.add('dark');
    document.getElementById('darkToggle').checked = true;
    document.querySelector('.dot').style.transform = 'translateX(100%)';
  }

  renderTimeline('en');
  translateStaticText('en');
</script>
</body>
</html>
